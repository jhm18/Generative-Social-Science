COMMENT Jonathan H. Morgan
COMMENT IO Tests
COMMENT 11 March 2020

ECHO ON

COMMENT Set Directory
    SET SEARCH DIRECTORY /Users/jonathan.h.morgan/dataplot/Analysis_Scripts/GS
    CD /Users/jonathan.h.morgan/dataplot/Dataplot_Tests
    COMMENT CALL /Users/jonathan.h.morgan/dataplot/Dataplot_Tests/IO_Tests_21March2020.DP

COMMENT Set Graphics Device and Global Commands
    device 1 x11
    SET POSTSCRIPT DEFAULT COLOR ON
    SET X11 PIXMAP ON
    SET X11 FONT 9X15
    TITLE CASE ASIS
    LABEL CASE ASIS
    TIC LABEL CASE ASIS
    LEGEND CASE ASIS
    LEGEND FONT FONT COMPLEX
    COMMENT LEGEND 1 COORDINATES 30 29
    COMMENT LEGEND 1 SIZE 1.0
    COMMENT LEGEND 1 COLOR BLACK
    COMMENT LEGEND 1 CIRC() Group Simulator
    COMMENT LEGEND 2 COORDINATES 30 24
    COMMENT LEGEND 2 SIZE 1.0
    COMMENT LEGEND 2 COLOR BROWN
    COMMENT LEGEND 2 CIRC() Group Simulator (Fixed)
    CASE ASIS
    TITLE FONT COMPLEX
    LABEL FONT COMPLEX
    LEGEND FONT COMPLEX
    LABEL THICKNESS 0.1
    Y1LABEL SIZE 2
    Y1LABEL DISPLACEMENT 6
    X1LABEL SIZE 2
    X1LABEL DISPLACEMENT 10

COMMENT Plotting Elements
    GRID ON
    GRID THICKNESS 0.1
    GRID PATTERN DASH
    Y2FRAME OFF
    X2FRAME OFF
    FRAME THICKNESS = 0.1
    TIC MARK SIZE = 2
    TIC MARK LABEL SIZE = 2
    XTIC OFFSET 0.2 0.2
    X1LIMIT = 1 3
    MAJOR XTIC MARK NUMBER 3
    YTIC OFFSET 0.2 0.2
    LINE THICKNESS 0.1
    X1TIC MARK LABEL FORMAT ALPHA
    X1TIC MARK LABEL CONTENT IrisSP()Setosa ...
                                 IrisSP()Versicolor ...
                                 IrisSP()Virginica
    Y1LABEL Correlation between Sepal Length and Width
    X1LABEL Species

COMMENT LOOP EXAMPLE
  SKIP 25
  READ IRIS.DAT Y1 Y2 Y3 Y4 SPECIES
  LET TAGDIST = DISTINCT SPECIES
  LET NGROUP = SIZE TAGDIST
  LOOP FOR K = 1 1 NGROUP
    LET IGROUP = TAGDIST(K)
    LET A = RANK CORRELATION Y1 Y2 SUBSET SPECIES = IGROUP
    LET YNEW(K) = A
    LET XNEW(K) = K
  END OF LOOP

COMMENT Confirming that Variables Are Correct
    WRITE ALL VARIABLES FOR I = 1 1 3

COMMENT Plotting
  LET A = RANK CORRELATION Y1 Y2
  LET YNEW2 = DATA A A
  LET XNEW2 = DATA 1 NGROUP
  LINE COLOR = BROWN
  PLOT YNEW XNEW AND
  PLOT YNEW2 XNEW2

 COMMENT Saving Correlations
    VARIABLE LABEL YNEW r_corr
    VARIABLE LABEL XNEW group_id
    ECHO OFF
    CAPTURE irsis_correlations.DAT
    WRITE xnew ynew
    END OF CAPTURE
    ECHO ON

RESET
